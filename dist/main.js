(()=>{"use strict";const e=calc;(function(e){let t=document.querySelector("#timer-hours"),o=document.querySelector("#timer-minutes"),n=document.querySelector("#timer-seconds");!function e(){let r=function(){let e=(new Date("30 November 2020").getTime()-(new Date).getTime())/1e3,t=("0"+Math.floor(e%60)).slice(-2),o=("0"+Math.floor(e/60%60)).slice(-2),n=("0"+Math.floor(e/60/60)%24).slice(-2);return Math.floor(e/60/60/24),{hours:n,minutes:o,seconds:t,timeRemaining:e}}();t.textContent=r.hours,o.textContent=r.minutes,n.textContent=r.seconds,r.timeRemaining>0?setInterval(e,1e3):r.timeRemaining<=0&&(t.textContent="00",o.textContent="00",n.textContent="00")}()})(),(()=>{document.querySelector(".menu");const e=document.querySelector("menu");document.addEventListener("click",(t=>{t.target.closest(".menu")?e.classList.add("active-menu"):(t.target.matches(".close-btn")||t.target.closest("li>a")||!t.target.closest("menu"))&&e.classList.remove("active-menu")}))})(),(()=>{const e=document.querySelector(".popup");document.querySelectorAll(".popup-btn").forEach((t=>{t.addEventListener("click",(()=>{e.style.display="block"}))})),e.addEventListener("click",(t=>{let o=t.target;o.classList.contains("popup-close")?e.style.display="none":(o=o.closest(".popup-content"),o||(e.style.display="none"))}))})(),(()=>{const e=document.querySelector(".popup-content");document.querySelectorAll(".popup-btn").forEach((t=>{t.addEventListener("click",(()=>{!function(t,o){let n=performance.now();requestAnimationFrame((function t(r){let l=r-n;(l>o||screen.width<768)&&(l=o),function(t){e.style.top=t/70+"%"}(l),l<o&&requestAnimationFrame(t)}))}(0,2e3)}))}))})(),document.querySelectorAll('a[href*="#"]').forEach((e=>{e.addEventListener("click",(function(t){if(t.preventDefault(),'a[href="#"]'!==e){const t=e.getAttribute("href").substr(1);document.getElementById(t).scrollIntoView({behavior:"smooth",block:"start",inline:"start"})}}))})),(()=>{const e=document.querySelector(".service-header"),t=document.querySelectorAll(".service-tab"),o=document.querySelectorAll(".service-header-tab");e.addEventListener("click",(e=>{let n=e.target;n=n.closest(".service-header-tab"),n&&o.forEach(((e,r)=>{e===n&&(e=>{for(let n=0;n<t.length;n++)e===n?(o[n].classList.add("active"),t[n].classList.remove("d-none")):(o[n].classList.remove("active"),t[n].classList.add("d-none"))})(r)})),n=n.parentNode}))})(),document.querySelectorAll(".portfolio-item").forEach(((e,t)=>{let o=document.querySelector(".portfolio-dots"),n=document.createElement("li");o.appendChild(n).classList.add("dot")})),document.querySelectorAll(".dot")[0].classList.add("dot-active"),(()=>{const e=document.querySelector(".portfolio-content"),t=document.querySelectorAll(".portfolio-item"),o=document.querySelectorAll(".dot");document.querySelectorAll(".portfolio-btn");let n,r=0;const l=(e,t,o)=>{e[t].classList.remove(o)},c=(e,t,o)=>{e[t].classList.add(o)},s=()=>{l(t,r,"portfolio-item-active"),l(o,r,"dot-active"),r++,r>=t.length&&(r=0),c(t,r,"portfolio-item-active"),c(o,r,"dot-active")},a=(e=3e3)=>{n=setInterval(s,e)};e.addEventListener("click",(e=>{e.preventDefault();let n=e.target;n.matches(".portfolio-btn, .dot")&&(l(t,r,"portfolio-item-active"),l(o,r,"dot-active"),n.matches(".next")?r++:n.matches(".prev")?r--:n.matches(".dot")&&o.forEach(((e,t)=>{e===n&&(r=t)})),r>=t.length&&(r=0),r<0&&(r=t.length-1),c(t,r,"portfolio-item-active"),c(o,r,"dot-active"))})),e.addEventListener("mouseover",(e=>{(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&clearInterval(n)})),e.addEventListener("mouseout",(e=>{(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&a()})),a()})(),document.querySelectorAll(".command__photo").forEach((e=>{let t=e.src;e.addEventListener("mouseover",(e=>{e.target.src=e.target.dataset.img})),e.addEventListener("mouseout",(e=>{e.target.src=t}))})),e(100),(()=>{let e="Что-то пошло не так...",t="Спасибо! Мы скоро с вами свяжемся!";const o=document.getElementById("form1"),n=document.getElementById("form2"),r=document.getElementById("form3"),l=document.querySelectorAll("input"),c=document.querySelector(".top-form"),s=document.querySelector(".mess"),a=document.getElementById("form1-name"),m=document.getElementById("form1-email"),i=document.getElementById("form1-phone"),d=document.getElementById("form2-name"),u=document.getElementById("form2-email"),p=document.getElementById("form2-phone"),v=document.getElementById("form3-name"),f=document.getElementById("form3-email"),h=document.getElementById("form3-phone"),y=document.querySelector(".popup");let E=document.createElement("div"),g=document.createElement("div");E.style.cssText="font-size: 2rem;",E.style.cssText="color: white;",l.forEach((e=>{c.classList.add("form-name"),s.classList.add("form-name"),e.addEventListener("input",(e=>{let t=e.target;t.matches(".form-name")?t.value=t.value.replace(/[^а-яё\s]/gi,""):t.matches(".form-phone")?t.value=t.value.replace(/[^\+\d]/g,"").substring(0,12):t.matches(".form-email")&&(t.value=t.value.replace(/\s/g,""))}))})),o.addEventListener("submit",(n=>{n.preventDefault(),o.appendChild(E),o.appendChild(g),g.classList.add("sk-spinner-pulse");const r=new FormData(o);let l={};r.forEach(((e,t)=>{l[t]=e})),L(l).then((e=>{if(200!==e.status)throw new Error("status network not 200");E.textContent=t,g.remove(g);let o=setTimeout((()=>{y.style.display="none",E.remove()}),3e3);for(;o--;)clearTimeout(o)})).catch((t=>{E.textContent=e,console.error(t),g.remove(g);let o=setTimeout((()=>{y.style.display="none",E.remove()}),3e3);for(;o--;)clearTimeout(o)})),a.value="",m.value="",i.value="",E.textContent=""})),n.addEventListener("submit",(o=>{o.preventDefault(),n.appendChild(E),n.appendChild(g),g.classList.add("sk-spinner-pulse");const r=new FormData(n);let l={};r.forEach(((e,t)=>{l[t]=e})),L(l).then((e=>{if(200!==e.status)throw new Error("status network not 200");E.textContent=t,g.remove(g);let o=setTimeout((()=>{y.style.display="none",E.remove()}),3e3);for(;o--;)clearTimeout(o)})).catch((t=>{E.textContent=e,console.error(t),g.remove(g);let o=setTimeout((()=>{y.style.display="none",E.remove()}),3e3);for(;o--;)clearTimeout(o)})),d.value="",u.value="",p.value="",s.value="",E.textContent=""})),r.addEventListener("submit",(o=>{o.preventDefault(),r.appendChild(E),r.appendChild(g),g.classList.add("sk-spinner-pulse");const n=new FormData(r);let l={};n.forEach(((e,t)=>{l[t]=e})),L(l).then((e=>{if(200!==e.status)throw new Error("status network not 200");E.textContent=t,g.remove(g);let o=setTimeout((()=>{y.style.display="none",E.remove()}),3e3);for(;o--;)clearTimeout(o)})).catch((t=>{E.textContent=e,console.error(t),g.remove(g);let o=setTimeout((()=>{y.style.display="none",E.remove()}),3e3);for(;o--;)clearTimeout(o)})),v.value="",f.value="",h.value="",E.textContent=""}));const L=e=>fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"})})()})();